import{W as e,v as a,x as i,r as s,o as n,c as t,w as r,i as l,b as o,e as d,f as c,F as u,h as g,t as p,j as f,y as h,k as m,d as _,z as b}from"./index-CSaaSGkr.js";import{_ as x}from"./unicloud-db.BOahwmTD.js";import{r as k}from"./uni-app.es.Csk3S8NK.js";import{_ as w,a as y}from"./uni-grid.C5hr2X6D.js";import{_ as L}from"./_plugin-vue_export-helper.BCo6x5W8.js";const v=L({data:()=>({gridList:[],current:0,hasLogin:!1}),onShow(){this.hasLogin=e.getCurrentUserInfo().tokenExpired>Date.now()},onLoad(){let e=[];for(var a=0;a<3;a++)e.push(this.$t("grid.visibleToAll"));for(a=0;a<3;a++)e.push(this.$t("grid.invisibleToTourists"));for(a=0;a<3;a++)e.push(this.$t("grid.adminVisible"));this.gridList=e},methods:{change(e){a({title:this.$t("grid.clickTip")+` ${e.detail.index+1} `+this.$t("grid.clickTipGrid"),icon:"none"})},onqueryload(e){},changeSwiper(e){this.current=e.detail.current},clickBannerItem(e){e.open_url&&i({url:"/uni_modules/uni-id-pages/pages/common/webview/webview?url="+e.open_url+"&title="+e.title,success:e=>{},fail:()=>{},complete:()=>{}})}}},[["render",function(e,a,i,L,v,C){const $=f,j=l,I=b,T=h,B=k(s("unicloud-db"),x),F=m,S=k(s("uni-grid-item"),w),q=k(s("uni-grid"),y);return n(),t(j,{class:"warp"},{default:r((()=>[o(B,{ref:"bannerdb",collection:"opendb-banner",field:"_id,bannerfile,open_url,title",onLoad:C.onqueryload},{default:r((({data:e,loading:a,error:i,options:s})=>[a||e.length?(n(),t(T,{key:1,class:"swiper-box",onChange:C.changeSwiper,current:v.current,"indicator-dots":""},{default:r((()=>[(n(!0),d(u,null,c(e,((e,a)=>(n(),t(I,{key:e._id},{default:r((()=>[o(j,{class:"swiper-item",onClick:a=>C.clickBannerItem(e)},{default:r((()=>[o($,{class:"banner-image",src:e.bannerfile.url,mode:"aspectFill",draggable:!1},null,8,["src"])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:2},1032,["onChange","current"])):(n(),t($,{key:0,class:"banner-image",src:"/assets/headers-BiHnxiJ5.png",mode:"aspectFill",draggable:!1}))])),_:1},8,["onLoad"]),o(j,{class:"section-box"},{default:r((()=>[o(F,{class:"decoration"}),o(F,{class:"section-text"},{default:r((()=>[g(p(e.$t("grid.grid")),1)])),_:1})])),_:1}),o(j,{class:"example-body"},{default:r((()=>[o(q,{column:3,highlight:!0,onChange:C.change},{default:r((()=>[(n(!0),d(u,null,c(v.gridList,((a,i)=>(n(),d(u,null,[i<3||i>2&&i<6&&v.hasLogin||i>5&&e.uniIDHasRole("admin")?(n(),t(S,{index:i,key:i},{default:r((()=>[o(j,{class:"grid-item-box",style:{"background-color":"#fff"}},{default:r((()=>[o(F,{class:"big-number"},{default:r((()=>[g(p(i+1),1)])),_:2},1024),o(F,{class:"text"},{default:r((()=>[g(p(a),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["index"])):_("",!0)],64)))),256))])),_:1},8,["onChange"])])),_:1})])),_:1})}],["__scopeId","data-v-f5ceace6"]]);export{v as default};
